{% extends "blog/base.html" %}
{% block content %}
  <h1>Your Friends</h1>
  {% if friends %}
    <ul>
      {% for friend in friends %}
         <li>{{ friend.username }}</li>
      {% endfor %}
    </ul>
  {% else %}
    <p>You have no friends.</p>
  {% endif %}
  
  <h2>Pending Friend Requests</h2>
  {% if pending_requests %}
    <ul>
      {% for pending in pending_requests %}
         <li>
             {{ pending.username }}
             <form method="POST" action="{% url 'manage-friends' %}" style="display:inline;">
                 {% csrf_token %}
                 <input type="hidden" name="friend_id" value="{{ pending.id }}">
                 <button type="submit" name="action" value="accept_request">Accept</button>
                 <button type="submit" name="action" value="decline_request">Decline</button>
             </form>
         </li>
      {% endfor %}
    </ul>
  {% else %}
    <p>No pending friend requests.</p>
  {% endif %}
{% endblock %}
